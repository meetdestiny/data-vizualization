<html>
<head>
</head>
<body>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="ExcelFormattedGISTEMPDataJS.js"></script>
<div id="container" style="min-width: 310px; height: 600px; margin: 0 auto"></div>
<input type="button" id="unCheckAll" value="Unselect All"/>
<input type="button" id="animate" value="Animate" />
<script>
 var multiYearMonthWiseData = [];
 data.forEach(function myFunction(item, index) {
   var seriesData = {};
   seriesData.name = item.Year;
   var monthWiseData = [];
   monthWiseData.push(item.Jan);
   monthWiseData.push(item.Feb);
   monthWiseData.push(item.Mar);
   monthWiseData.push(item.Apr);
   monthWiseData.push(item.May);
   monthWiseData.push(item.Jun);
   monthWiseData.push(item.Jul);
   monthWiseData.push(item.Aug);
   monthWiseData.push(item.Sep);
   monthWiseData.push(item.Oct);
   monthWiseData.push(item.Nov);
   monthWiseData.push(item.Dec);
   seriesData.data = monthWiseData;
   multiYearMonthWiseData.push(seriesData);  
});  
$(document).ready(function () {
   var chart =  $('#container').highcharts({
        chart: {
            type: 'line'
        },
        title: {
            text: 'Monthly Average Temperature'
        },
        subtitle: {
            text: 'Source: WorldClimate.com'
        },
        xAxis: {
            categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
        },
        yAxis: {
            title: {
                text: 'Temperature'
            }
        },
        plotOptions: {
            line: {
                dataLabels: {
                    enabled: true
                },
                enableMouseTracking: false
            }
        },
        series:multiYearMonthWiseData 
    });
});




$('#unCheckAll').click(function(){
        var chart = $('#container').highcharts();
        var series = chart.series;
        for(i=0; i < chart.series.length; i++) {
            series[i].setVisible(false, false);
        }
        chart.redraw();
});

$('#animate').click(function(){
        var chart = $('#container').highcharts();
        var series = chart.series;
        for(i=0; i < chart.series.length; i++) {
           // series[i].setVisible(false, false);
            //doSetTimeout(series, i); 
           doSetTimeout(chart, i);
        }
        chart.redraw();
});

function doSetTimeout( chart, i) {
      setTimeout(function add() {chart.series[i].setVisible(true, true); }, i*200); 

}
</script>
</body>
</html>
